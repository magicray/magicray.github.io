<!doctype html>
<title>Single Page Application Template</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<script>
window.onhashchange = function() {
    let function_name = ''
    if(location.hash && location.hash.length > 1)
        function_name = location.hash.substring(1)
    window['onhashchange_' + function_name]()
    $('.dataTable').DataTable()
}

function h(tag_id_class, props, child) {
    let splitted = tag_id_class.split(' ')
    let cls = splitted.slice(1).join(' ')
    let [tag, id] = splitted[0].split('#')

    id = id? ' id="' + id + '"': ''
    cls = cls? ' class="' + cls + '"': ''
    let result = ['<', tag, id, cls]

    let child_html = ''

    if(typeof props === 'object' && Array.isArray(props) === false)
        for(let k in props)
            result.push(' ' + k + '="' + props[k] + '"')
    else
        child_html = Array.isArray(props)? props.join(''): props

    for(let i=0; i<arguments.length-2; i++)
        child_html += Array.isArray(arguments[2+i])? arguments[2+i].join('') : arguments[2+i]

    result.push('>')
    result.push(child_html)
    result.push('</' + tag + '>')

    return result.join('')
}

function tag(tag_id_class) {
    return function() {
        let new_arguments = [tag_id_class]
        for(let i=0; i<arguments.length; i++)
            new_arguments.push(arguments[i])
        return h.apply(null, new_arguments)
    }
}

const EVENT_HANDLERS = {}

function callback(id, evt, fn) {
    if(undefined === EVENT_HANDLERS[id])
        EVENT_HANDLERS[id] = {}

    EVENT_HANDLERS[id][evt] = fn
}

function innerHTML(key, value) {
    if(undefined === value) {
        value = key
        key = 'application-root'
    }

    document.getElementById(key).innerHTML = value

    Object.entries(EVENT_HANDLERS).forEach(item => { 
        let id = item[0]
        let elements = []

        if('#' === id[0])
            elements = [document.getElementById(id.substring(1))]
        else if('.' === id[0])
            elements = document.getElementsByClassName(id.substring(1))
        else
            elements = document.getElementsByTagName(id)

        Object.entries(item[1]).forEach(item => {
            for(let i=0; i<elements.length; i++)
                if(null !== elements[i])
                    elements[i].addEventListener(item[0], item[1])
        })
    })
}

function table(header, rows) {
    return h('table dataTable compact table-striped table-condensed',
        h('thead',
            h('tr',
                header.map(x => h('th', x)))),
        h('tbody',
            rows.map(row =>
		h('tr',
                    row.map(x =>
	                h('td', x))))))
}

<body>
Hello, World!
</body>

<!doctype html>
<html lang="en">
<head>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.25/css/jquery.dataTables.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
<title>Stocks</title>
<style>
td {margin-top: 0px; }
</style>
</head>
<body>
    <div class="div container">
        <table id="table" cellspacing="0" cellpadding="0" class="table table-condensed table-striped table-bordered">
            <thead><tr>
                <th>Rank</th>
                <th>Name</th>
                <th>ROCE</th>
                <th>ROE</th>
                <th>Profit Growth</th>
                <th>Sales Growth</th>
                <th>Yield</th>
                <th>PE</th>
                <th>Price</th>
                <th>Market Cap</th>
                </thead>
        </table>
    </div>
</body>
<script>
$('#table').dataTable({
    'bPaginate': false,
    'ajax': {
        'url': 'https://magicray.github.io/magicrank.json',
        'dataSrc': function(data) {
            return data.map(d => [
                d['rank'],
                d['name'],
                Math.floor(d['roce']),
                Math.floor(d['roe']),
                Math.floor(d['qtr_profit_var']),
                Math.floor(d['qtr_sales_var']),
                Math.floor(d['earnings_yield']),
                Math.floor(d['p_e']),
                d['cmp_rs'],
                Math.floor(d['mar_cap_rs_cr']),
            ])
        }},
})
</script>
</html>
